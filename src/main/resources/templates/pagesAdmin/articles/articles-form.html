<!DOCTYPE html>
<html th:replace="base :: html" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="content">

    <h1 class="page-title" th:text="${article.id} != null ? 'Modifier un article' : 'Créer un article'"></h1>

    <form th:action="@{/admin/articles/save}" method="post">

        <input type="hidden" name="id" th:value="${article.id}" />

        <label>Nom</label>
        <input type="text" name="nom" th:value="${article.nom}" required />

        <label>Description</label>
        <textarea name="description" rows="4" th:text="${article.description}"></textarea>

        <label>Prix (€)</label>
        <input type="number" step="0.01" name="prix" th:value="${article.prix}" required />

        <label>Stock</label>
        <input type="number" name="stock" th:value="${article.stock}" required />

        <label>Image (URL)</label>
        <input type="text" name="image" th:value="${article.image}" placeholder="/images/bag1.jpg" />

        <label>Catégorie</label>
        <select name="categorieId" required>
            <option value="">-- Choisir --</option>
            <option th:each="cat : ${categories}"
                    th:value="${cat.id}"
                    th:selected="${article.categorie != null and article.categorie.id == cat.id}"
                    th:text="${cat.nom}">
            </option>
        </select>

        <button type="submit" class="btn-primary">Enregistrer</button>
        <a th:href="@{/admin/articles}" class="btn-secondary">Annuler</a>
    </form>

</div>
</html>
